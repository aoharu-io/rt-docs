---
title: コントリビューティングガイド
---
ここには、貢献をする上での知っておいて欲しい話が書いてあります。

## インフラの概略
### データベース
MySQLまたはMariaDBです。バックエンドが接続をして使用します。
#### SQLの書き方
- 文は大文字で書く。
- 最後に必ず`;`を置く。
- テーブル名やコラム名等はアッパーキャメルケースにしてください。
### バックエンド
将来性を考慮して、複数同時に稼働できるように実装がされています。
ですので、キャッシュを作るなどする場合、複数稼働した場合にキャッシュが競合するなど、そう言ったことがないように気をつけて実装をしましょう。
#### プログラミング言語について
Pythonを使っています。  
書き方は、[このコードスタイル](https://gist.github.com/tasuren/bf1fcce48f1e23a5c7e6abd503bdb3c1)に普通は従ってください。  
また、[pyright](https://pypi.org/project/pyright/)による型チェックを、basicモード以上の厳しさでチェックを施してください。
#### 種類
バックエンドには、APIに対応するためのプログラムのメインと、機能の処理部分を担当するプログラムのBotがあります。
##### メイン
シャードの管理や、ダッシュボードからの設定変更のリクエストに対応したりします。  
大体の機能はダッシュボードで管理を行うので、データベースを使うような機能の設定変更は、コマンドではなくAPIとなります。  
WebSocketでBotと通信をして、いつでもBotとデータの送受信ができるようになっています。（[このライブラリ](https://github.com/tasuren/ipcs/)による通信です。）  
APIリクエスト時の権限チェックは、Botが持つ権限のキャッシュをBotに要求して、そのキャッシュを元にチェックを行います。  
##### Bot
機能の処理をします。WebSocketでバックエンドと通信をして、何かしらアクションを起こせるようにもします。  
シャード情報は、起動時にバックエンドから取得します。もし取得に失敗した場合、十秒ずつで終了しないで再試行をします。つまり、予備機の稼働ができるようになっています。
### フロントエンド
Coming soon...

## コミットメッセージやPRタイトル
明確な変更内容を体言止めで書いてください。  
例: `不要なインポートの削除。`

## 何か実装するときは
実装をする前に、実装をする内容と合ったIssue（なければ作成）に自分が何をする予定かをある程度は送信をしておいてください。  
また、できるだけどのように実装をするかを説明してください。そうすることで、後々気づいてする破壊的更新の箇所を先に気付けるかもしれないのと、より良いプログラムを他の人が提案できます。